#!/bin/sh -x
echo 'IyEvYmluL3NoIC1ldXgKCnNzaCgpIHsKICAgIC91c3IvYmluL3NzaCAtb0JhdGNoTW9kZT15ZXMgLW8gVENQS2VlcEFsaXZlPXllcyAtbyBTZXJ2ZXJBbGl2ZUludGVydmFsPTMwIC1vIFNlcnZlckFsaXZlQ291bnRNYXg9MzAgLW8gQ29ubmVjdFRpbWVvdXQ9MzAgLW8gQ29ubmVjdGlvbkF0dGVtcHRzPTMwIC1vIFVzZXJLbm93bkhvc3RzRmlsZT0vZGV2L251bGwgLW8gU3RyaWN0SG9zdEtleUNoZWNraW5nPW5vIC1vIExvZ0xldmVsPWVycm9yIiAiJEAiOwp9CnNjcCgpIHsKICAgIC91c3IvYmluL3NjcCAtb0JhdGNoTW9kZT15ZXMgLW8gVENQS2VlcEFsaXZlPXllcyAtbyBTZXJ2ZXJBbGl2ZUludGVydmFsPTMwIC1vIFNlcnZlckFsaXZlQ291bnRNYXg9MzAgLW8gQ29ubmVjdFRpbWVvdXQ9MzAgLW8gQ29ubmVjdGlvbkF0dGVtcHRzPTMwIC1vIFVzZXJLbm93bkhvc3RzRmlsZT0vZGV2L251bGwgLW8gU3RyaWN0SG9zdEtleUNoZWNraW5nPW5vIC1vIExvZ0xldmVsPWVycm9yIiAiJEAiOwp9ClJFR0lTVFJZX0RPTUFJTj1yZWdpc3RyeS53b3Jrc2hvcC5icmVkYS5sb2NhbDsKUkVHSVNUUllfSVA9W1tIT1NUX0lQXV07CkNFUlRTX1BBVEg9fi8uY2VydHM7CgptYWluKCkgewogICAgZ2V0S3ViZWNvbmZpZ0Zyb20gbWFzdGVyOwogICAgZ2VuZXJhdGVDZXJ0c0luICIkQ0VSVFNfUEFUSCIKICAgIHJ1bkRvY2tlclJlZ2lzdHJ5ICIkUkVHSVNUUllfSVAiOwogICAgc2V0VXBDZXJ0c09uICIkQ0VSVFNfUEFUSCIgbWFzdGVyOwogICAgc2V0VXBDZXJ0c09uICIkQ0VSVFNfUEFUSCIgbm9kZTAxOwogICAgc2V0VXBFdGNIb3N0c09uIG1hc3RlcjsKICAgIHNldFVwRXRjSG9zdHNPbiBub2RlMDE7Cn0KCmdldEt1YmVjb25maWdGcm9tKCkgewogICAgSE9TVD0iJDEiOwogICAgc2NwIHJvb3RAIiRIT1NUIjovcm9vdC8ua3ViZS9jb25maWcgfi8ua3ViZS87Cn0KCnNldFVwRXRjSG9zdHNPbigpIHsKICAgIHNzaCByb290QCIkSE9TVCIgImVjaG8gJyR7UkVHSVNUUllfSVB9JyAnJHtSRUdJU1RSWV9ET01BSU59JyA+PiAvZXRjL2hvc3RzIgp9CgpydW5Eb2NrZXJSZWdpc3RyeSgpIHsKICAgIEhPU1Q9IiQxIjsKICAgIHNzaCByb290QCIkSE9TVCIgIlwKICAgICAgICBkb2NrZXIgcnVuIC1kIC1wIDUwMDA6NTAwMCBcCiAgICAgICAgICAgIC12IC9yb290L2NlcnRzOi9jZXJ0cyBcCiAgICAgICAgICAgIC1lIFJFR0lTVFJZX0hUVFBfVExTX0NFUlRJRklDQVRFPS9jZXJ0cy8kUkVHSVNUUllfRE9NQUlOLmNydCBcCiAgICAgICAgICAgIC1lIFJFR0lTVFJZX0hUVFBfVExTX0tFWT0vY2VydHMvJFJFR0lTVFJZX0RPTUFJTi5rZXkgXAogICAgICAgICAgICAtdiAvb3B0L3JlZ2lzdHJ5L2RhdGE6L3Zhci9saWIvcmVnaXN0cnkgXAogICAgICAgICAgICAtLW5hbWUgcmVnaXN0cnkgcmVnaXN0cnk6MjsgXAogICAgIjsKfQoKZ2VuZXJhdGVDZXJ0c0luKCkgewogICAgZXhwb3J0IFJFR0lTVFJZX0RPTUFJTjsKICAgIENFUlRTX1BBVEg9IiQxIjsKICAgIG1rZGlyIC1wICIkQ0VSVFNfUEFUSCI7CiAgICAoCiAgICAgICAgc2V0IC1ldTsKICAgICAgICBjZCAiJENFUlRTX1BBVEgiCiAgICAgICAgIyBHZW5lcmF0ZSBhIHJvb3Qga2V5CiAgICAgICAgb3BlbnNzbCBnZW5yc2EgLW91dCByb290Q0Eua2V5OwogICAgICAgICMgR2VuZXJhdGUgYSByb290IGNlcnRpZmljYXRlCiAgICAgICAgb3BlbnNzbCByZXEgLXg1MDkgLW5ldyAtbm9kZXMgLWtleSByb290Q0Eua2V5IC1kYXlzIDM2NSBcCiAgICAgICAgICAgIC1zdWJqICIvQz1VSy9TVD1URVNUL0w9VEVTVC9PPVRFU1QvQ049JHtSRUdJU1RSWV9ET01BSU59IiBcCiAgICAgICAgICAgIC1vdXQgcm9vdENBLmNydDsKICAgICAgICAjIEdlbmVyYXRlIGtleSBmb3IgaG9zdAogICAgICAgIG9wZW5zc2wgZ2VucnNhIC1vdXQgJHtSRUdJU1RSWV9ET01BSU59LmtleTsKICAgICAgICAjIEdlbmVyYXRlIENTUgogICAgICAgIG9wZW5zc2wgcmVxIC1uZXcgLWtleSAke1JFR0lTVFJZX0RPTUFJTn0ua2V5IFwKICAgICAgICAgICAgLXN1YmogIi9DPVVLL1NUPVRFU1QvTD1URVNUL089VEVTVC9DTj0ke1JFR0lTVFJZX0RPTUFJTn0iIFwKICAgICAgICAgICAgLW91dCAke1JFR0lTVFJZX0RPTUFJTn0uY3NyOwogICAgICAgICMgU2lnbiBjZXJ0aWZpY2F0ZSByZXF1ZXN0CiAgICAgICAgb3BlbnNzbCB4NTA5IC1yZXEgLWluICR7UkVHSVNUUllfRE9NQUlOfS5jc3IgLUNBIHJvb3RDQS5jcnQgLUNBa2V5IHJvb3RDQS5rZXkgLUNBY3JlYXRlc2VyaWFsIC1kYXlzIDM2NSAtb3V0ICR7UkVHSVNUUllfRE9NQUlOfS5jcnQ7CiAgICApCn0KCnNldFVwQ2VydHNPbigpIHsKICAgIGV4cG9ydCBSRUdJU1RSWV9ET01BSU47CiAgICBDRVJUU19QQVRIPSIkMSI7CiAgICBIT1NUPSIkMiI7CiAgICBzc2ggcm9vdEAiJEhPU1QiICJcCiAgICAgICAgbWtkaXIgLXAgL3Vzci9sb2NhbC9zaGFyZS9jYS1jZXJ0aWZpY2F0ZXMvJHtSRUdJU1RSWV9ET01BSU59OyBcCiAgICAgICAgbWtkaXIgLXAgL2V0Yy9kb2NrZXIvY2VydHMuZC8ke1JFR0lTVFJZX0RPTUFJTn07IFwKICAgICI7CiAgICBzY3AgIiRDRVJUU19QQVRIIi9yb290Q0EuY3J0IHJvb3RAIiRIT1NUIjovdXNyL2xvY2FsL3NoYXJlL2NhLWNlcnRpZmljYXRlcy8ke1JFR0lTVFJZX0RPTUFJTn07CiAgICBzY3AgIiRDRVJUU19QQVRIIi9yb290Q0EuY3J0IHJvb3RAIiRIT1NUIjovZXRjL2RvY2tlci9jZXJ0cy5kLyR7UkVHSVNUUllfRE9NQUlOfS9jYS5jcnQ7CiAgICBzY3AgLXIgIiRDRVJUU19QQVRIIiByb290QCIkSE9TVCI6L3Jvb3QvY2VydHM7CiAgICBzc2ggcm9vdEAiJEhPU1QiICJcCiAgICAgICAgdXBkYXRlLWNhLWNlcnRpZmljYXRlczsgXAogICAgICAgIHN1ZG8gc2VydmljZSBkb2NrZXIgcmVzdGFydDsgXAogICAgIjsKfQoKbWFpbjsK' |
    base64 --decode > /opt/setup.sh;
chmod +x /opt/setup.sh;
/opt/setup.sh;
